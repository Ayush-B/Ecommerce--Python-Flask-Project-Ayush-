{% extends "layouts/base.html" %}
{% block content %}

<h2 class="ui header">My Profile</h2>

{% if get_flashed_messages() %}
<div class="ui info message">
    {% for msg in get_flashed_messages(with_categories=false) %}
        <p>{{ msg }}</p>
    {% endfor %}
</div>
{% endif %}

<div class="ui grid">
    <div class="eight wide column">
        <form class="ui form" method="post" action="{{ url_for('auth.update_profile') }}">
            <h4 class="ui dividing header">Profile Information</h4>

            <div class="field">
                <label>Name</label>
                <input type="text" name="name" value="{{ user.name or '' }}">
            </div>

            <div class="field">
                <label>Address line</label>
                <input type="text" name="address_line" value="{{ user.address_line or '' }}">
            </div>

            <div class="two fields">
                <div class="field">
                    <label>City</label>
                    <input type="text" name="city" value="{{ user.city or '' }}">
                </div>
                <div class="field">
                    <label>State</label>
                    <input type="text" name="state" value="{{ user.state or '' }}">
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Postal code</label>
                    <input type="text" name="postal_code" value="{{ user.postal_code or '' }}">
                </div>
                <div class="field">
                    <label>Country</label>
                    <input type="text" name="country" value="{{ user.country or '' }}">
                </div>
            </div>

            <button class="ui primary button">Save Changes</button>
        </form>
    </div>

    <div class="eight wide column">
        <form class="ui form" method="post" action="{{ url_for('auth.update_password') }}">
            <h4 class="ui dividing header">Change Password</h4>

            <div class="field">
                <label>Old Password</label>
                <input type="password" name="old_password">
            </div>

            <div class="field">
                <label>New Password</label>
                <input type="password" name="new_password">
            </div>

            <button class="ui red button">Update Password</button>
        </form>
    </div>
</div>

{% endblock %}
